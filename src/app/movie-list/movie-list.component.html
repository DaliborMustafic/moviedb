<app-navbar (passSearch)="reciveSearch($event)" (passData)="reciveData($event) " (headEmitter)="reciveHead($event)"></app-navbar>
<br>
<br>
<div class="container-fluid">
  <br>
  <div class="wrapper">

    <div class="row">
<!--       <div class="col-3 d-none d-sm-block">

        <app-sidebar (passData)="reciveData($event) " (headEmitter)="reciveHead($event)" ></app-sidebar>
      </div> -->

      <div class="col-sm-xl-12 col-xl-pull-12" *ngIf="movieList;else details">

          <div *ngFor="let movie of movieList?.results; let i = index" class="row  main_card" (click)="getClip(movie.id,Link)" routerLink="../{{Link}}{{movie.id}}" >
<!--             <div class="col-sm">

              <h3 *ngIf="movie.title; else name">{{movie.title}}</h3>
              <ng-template #name>
                <h3>{{movie.name}}</h3>
              </ng-template>
              <p class="text" (click)="showText($event)"> <b>Overwiev : <br></b> {{movie.overview}}</p>
              <a class="button btn btn-secondary" (click)="getClip(movie.id,Link)" routerLink="../{{Link}}{{movie.id}}">Get
                Details</a>



              <p *ngIf="movie.release_date; else release"><strong>Release date : <br></strong> {{ movie.release_date}}
              </p>
              <ng-template #release> <br><strong>First Air Date : <br></strong> {{ movie.first_air_date}}</ng-template>
              <p *ngIf="movie.vote_average > 0 "><br><strong>Vote Average : <br></strong> {{ movie.vote_average}} / 10
              </p>

            </div> -->

              <img  class="img-fluid poster" src='https://image.tmdb.org/t/p/w500/{{ movie.poster_path}}' alt="">


            <br>


          </div>

        <!-- hier-->

      </div>

      <div class="navigation-div">
        <button class="btn btn-secondary left-btn" (click)="scroll_left()">LEFT</button>
        <button class="btn btn-secondary right-btn" (click)="scroll_right()">RIGHT</button>
      </div>
      <!-- Pagination Beginning -->
      <div  *ngIf="total_pages" class="pagination_with_buttons">
        <img (click)="goLeft()"  class="left_click" src="../../assets/icons8-pfeil-nach-links-64.png" alt="">
        <div class="pagination">
          <div class="page" [id]="'page' + (i + 1)"  *ngFor="let page of total_pages; let i  = index  "    (click)="setPage(i+1)" >

            {{i + 1}}

          </div>

        </div>
        <img (click)="goRight()"  class="right_click" src="../../assets/icons8-pfeil-rechts-64.png" alt="">
      </div>

      <!-- Pagination END -->

      <!-- Beginning Details Template -->
      <ng-template #details>
        <div class="col-xl-9 col-xl-pull-12">
          <div class=" borderDiv main_card">
            <div *ngIf="movieDetails" class="row">
              <div class="col-xl-6">
                <h2>{{movieDetails.original_title}}</h2>
                <p>{{movieDetails.overview}}</p>
                <a class="btn btn-warning" href="https://www.imdb.com/title/{{movieDetails.imdb_id}}"
                  target="_blank">IMDB Review</a>
                <br>
                <a target="_blank" href="{{movieDetails.homepage}}">Visit the Homepage</a>
                <br>
                <br>
                <p *ngIf="movieDetails.release_date"> <strong> Release Date : </strong>{{movieDetails.release_date}}</p>
                <p *ngIf="movieDetails.runtime"> <strong>Runtime : </strong> {{movieDetails.runtime}} min</p>
                <br>
                <p> <strong>Genre : </strong> </p>
                <p *ngFor="let item of movieDetails.genres">
                  - {{item.name}}
                </p>
                <br>
                <p *ngIf="movieDetails.budget"> <strong>Budget : </strong> {{movieDetails.budget}} </p>

                <p> <strong>Popularity :</strong> {{movieDetails.vote_average}} / 10</p>
                <br>
                <p> <strong>Production Companies :</strong> </p>
                <p *ngFor="let item of movieDetails.production_companies">
                  - {{item.name}}
                </p>

              </div>

              <div class="col-xl-6">
                <img class="img-fluid" src="https://image.tmdb.org/t/p/w500/{{movieDetails.poster_path}}" alt="">

              </div>
              <div *ngIf="youtubeLink else noneVid" class="col-xl-12 iframe_container">
                <iframe class="youtube_vid" width="560" height="315" [src]="youtubeLink" frameborder="0"
                  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen>
                </iframe>
              </div>
              <ng-template #noneVid>

              </ng-template>
            </div>


          </div>


        </div>

      </ng-template>
      <!-- END Details Template -->
      <ng-template #span>
        <h4 class="heading borderDiv"><span>Choose an Category</span></h4>
      </ng-template>


    </div>


  </div>


</div>
